<!doctype html>
<html>
  <head>
    <title></title>
    <link rel="stylesheet" href="./node_modules/jasmine-core/lib/jasmine-core/jasmine.css"/>
    <link rel="stylesheet" href="./node_modules/example-component/stylesheet.css"/>
    <script src="./node_modules/requirejs/require.js"></script>
  </head>
  <body>
    <script>
      requirejs.config({
        baseUrl: "/",
        paths: {
          "ace": "./node_modules/ace-builds/src-noconflict/ace",
          "jasmine": "./node_modules/jasmine-core/lib/jasmine-core",
          "example-component": "./node_modules/example-component/index",
          "get-json": "./node_modules/get-json/index",
          "component": "${COMPONENT_PATH}"
        },
        shim: {
          "jasmine/boot": ["jasmine/jasmine", "jasmine/jasmine-html"],
          "jasmine/jasmine-html": ["jasmine/jasmine"],
          "example-component": {
            deps: ["ace", "get-json"],
            exports: "ExampleComponent"
          },
          "get-json": { exports: "getJson" },
          "component/index": { exports: "${COMPONENT_NAME}" },
          "component/spec": ["jasmine/boot"]
        }
      });
      requirejs([
        "get-json",
        "example-component",
        "component/index",
        "component/spec"
      ], function (
        getJson,
        ExampleComponent,
        Component
      ) {
        getJson("${COMPONENT_PATH}/package.json", function (package) {
          window.onload();
          document.body.appendChild(ExampleComponent({
            name: package.name,
            version: package.version,
            description: package.description,
            component: Component,
            data: package.component.data,
          }));
        });
      });
    </script>
  </body>
</html>
